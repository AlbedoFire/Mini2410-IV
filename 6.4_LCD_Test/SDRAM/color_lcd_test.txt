; generated by Component: ARM Compiler 5.06 update 1 (build 61) Tool: ArmCC [4d35ad]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\sdram\color_lcd_test.o --asm_dir=.\SDRAM\ --list_dir=.\SDRAM\ --depend=.\sdram\color_lcd_test.d --cpu=ARM920T --apcs=interwork -O3 --diag_suppress=9931 -I..\Common\Inc -I.\Include -IC:\Keil_v5\ARM\RV31\INC -IC:\Keil_v5\ARM\CMSIS\Include -IC:\Keil_v5\ARM\Inc\Samsung -D__UVISION_VERSION=517 --omf_browse=.\sdram\color_lcd_test.crf Source\color_lcd_test.c]
                          ARM

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_flags
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_f
                          REQUIRE _printf_fp_dec
                  lcd_init_app PROC
;;;66     *********************************************************************************************/
;;;67     void lcd_init_app()
000000  e92d4010          PUSH     {r4,lr}
;;;68     {
;;;69         Lcd_port_init();
000004  ebfffffe          BL       Lcd_port_init
;;;70         Lcd_Init(MODE_TFT_16BIT_800480);
000008  e59f4214          LDR      r4,|L1.548|
00000c  e1a00004          MOV      r0,r4
000010  ebfffffe          BL       Lcd_Init
;;;71         Glib_Init(MODE_TFT_16BIT_800480);
000014  e1a00004          MOV      r0,r4
000018  ebfffffe          BL       Glib_Init
;;;72         Glib_ClearScr(0, MODE_TFT_16BIT_800480);
00001c  e1a01004          MOV      r1,r4
000020  e3a00000          MOV      r0,#0
000024  ebfffffe          BL       Glib_ClearScr
;;;73         Lcd_PowerEnable(0, 1);
000028  e3a01001          MOV      r1,#1
00002c  e3a00000          MOV      r0,#0
000030  ebfffffe          BL       Lcd_PowerEnable
;;;74         Lcd_EnvidOnOff(1);	  
000034  e3a00001          MOV      r0,#1
000038  ebfffffe          BL       Lcd_EnvidOnOff
;;;75         uart_printf(" [TFT 64K COLOR(16bit/1pixel) LCD TEST]\n");
00003c  e8bd4010          POP      {r4,lr}
000040  e28f0e1e          ADR      r0,|L1.552|
000044  eafffffe          B        uart_printf
;;;76     
;;;77     }
;;;78     
                          ENDP

                  lcd_init_app_end PROC
;;;86     *********************************************************************************************/
;;;87     void lcd_init_app_end()
000048  e92d4010          PUSH     {r4,lr}
;;;88     {
;;;89         Lcd_EnvidOnOff(0);
00004c  e3a00000          MOV      r0,#0
000050  ebfffffe          BL       Lcd_EnvidOnOff
;;;90         Lcd_Port_Return();
000054  e8bd4010          POP      {r4,lr}
000058  eafffffe          B        Lcd_Port_Return
;;;91     }
;;;92     
                          ENDP

                  Lcd_DspHz24 PROC
;;;104    *********************************************************************************************/
;;;105    void Lcd_DspHz24(UINT16T x0, UINT16T y0, UINT16T ForeColor, UINT8T *s)
00005c  e92d4fff          PUSH     {r0-r11,lr}
;;;106    {
000060  e24dd04c          SUB      sp,sp,#0x4c
000064  e1a0a001          MOV      r10,r1
000068  e1a0b000          MOV      r11,r0
;;;107    	INT16T i,j,k,x,y,xx;
;;;108    	UINT8T qm,wm;
;;;109    	INT32T ulOffset;
;;;110    	INT8T hzbuf[72];
00006c  e1a0700d          MOV      r7,sp
;;;111    
;;;112    	for(i = 0; i < strlen((const char*)s); i++)
000070  e3a05000          MOV      r5,#0
                  |L1.116|
000074  e59d0058          LDR      r0,[sp,#0x58]
000078  ebfffffe          BL       strlen
00007c  e1550000          CMP      r5,r0
000080  2a00003e          BCS      |L1.384|
;;;113    	{
;;;114    		if(((UINT8T)(*(s+i))) < 161)
000084  e59d0058          LDR      r0,[sp,#0x58]
000088  e7d00005          LDRB     r0,[r0,r5]
00008c  e35000a1          CMP      r0,#0xa1
000090  3a00003a          BCC      |L1.384|
;;;115    		{
;;;116    			break;
;;;117    		}
;;;118    		else
;;;119    		{
;;;120    			qm = *(s+i) - 176;                                  //161;
;;;121    	    		wm = *(s+i + 1) - 161;
000094  e59d1058          LDR      r1,[sp,#0x58]
000098  e0812005          ADD      r2,r1,r5
00009c  e24010b0          SUB      r1,r0,#0xb0           ;120
0000a0  e5d23001          LDRB     r3,[r2,#1]
0000a4  e20110ff          AND      r1,r1,#0xff           ;120
;;;122                		ulOffset = (INT32T)(qm * 94 + wm) * 72;
0000a8  e061c201          RSB      r12,r1,r1,LSL #4
0000ac  e08cc281          ADD      r12,r12,r1,LSL #5
0000b0  e24330a1          SUB      r3,r3,#0xa1
0000b4  e20310ff          AND      r1,r3,#0xff           ;121
0000b8  e081108c          ADD      r1,r1,r12,LSL #1
;;;123                		for (j = 0; j < 72; j ++)
;;;124                		{
;;;125                			hzbuf[j] = g_auc_hzk24[ulOffset + j];
0000bc  e59f2190          LDR      r2,|L1.596|
0000c0  e0811181          ADD      r1,r1,r1,LSL #3       ;122
0000c4  e3a00000          MOV      r0,#0                 ;123
0000c8  e1a01181          LSL      r1,r1,#3              ;122
                  |L1.204|
0000cc  e081c000          ADD      r12,r1,r0
0000d0  e7d2c00c          LDRB     r12,[r2,r12]
0000d4  e2803001          ADD      r3,r0,#1              ;123
0000d8  e7c7c000          STRB     r12,[r7,r0]
0000dc  e1a00803          LSL      r0,r3,#16             ;123
0000e0  e1a00840          ASR      r0,r0,#16             ;123
0000e4  e3500048          CMP      r0,#0x48              ;123
;;;126                 		}
;;;127                		for(y = 0; y < 24; y++)
0000e8  a3a06000          MOVGE    r6,#0
;;;128                		{
;;;129    	               	for(x = 0; x < 24; x++) 
;;;130    	               	{
;;;131               				k = x % 8;
;;;132    			       	if (hzbuf[y * 3 + x / 8]  & (0x80 >> k))
0000ec  a3a09080          MOVGE    r9,#0x80
0000f0  bafffff5          BLT      |L1.204|
                  |L1.244|
0000f4  e0868086          ADD      r8,r6,r6,LSL #1       ;127
0000f8  e3a04000          MOV      r4,#0                 ;129
                  |L1.252|
0000fc  e1a00fc4          ASR      r0,r4,#31             ;131
000100  e0840ea0          ADD      r0,r4,r0,LSR #29      ;131
000104  e3c01007          BIC      r1,r0,#7              ;131
000108  e08801c0          ADD      r0,r8,r0,ASR #3
00010c  e7d00007          LDRB     r0,[r0,r7]
000110  e0441001          SUB      r1,r4,r1              ;131
000114  e1100139          TST      r0,r9,LSR r1
000118  0a00000a          BEQ      |L1.328|
;;;133    			       	{
;;;134    			       		xx = x0 + x + i*12;
00011c  e08b0004          ADD      r0,r11,r4
000120  e0851085          ADD      r1,r5,r5,LSL #1
;;;135    			       		PutPixel( xx, y + y0, (UINT16T)ForeColor);
000124  e59f312c          LDR      r3,|L1.600|
000128  e0800101          ADD      r0,r0,r1,LSL #2       ;134
00012c  e5933000          LDR      r3,[r3,#0]  ; PutPixel
000130  e1a00800          LSL      r0,r0,#16             ;134
000134  e59d2054          LDR      r2,[sp,#0x54]
000138  e1a00840          ASR      r0,r0,#16             ;134
00013c  e086100a          ADD      r1,r6,r10
000140  e1a0e00f          MOV      lr,pc
000144  e12fff13          BX       r3
                  |L1.328|
000148  e2840001          ADD      r0,r4,#1              ;129
00014c  e1a04800          LSL      r4,r0,#16             ;129
000150  e1a04844          ASR      r4,r4,#16             ;129
000154  e3540018          CMP      r4,#0x18              ;129
000158  baffffe7          BLT      |L1.252|
00015c  e2860001          ADD      r0,r6,#1              ;127
000160  e1a06800          LSL      r6,r0,#16             ;127
000164  e1a06846          ASR      r6,r6,#16             ;127
000168  e3560018          CMP      r6,#0x18              ;127
;;;136    			       	}
;;;137    			      }
;;;138                		}
;;;139    		    	i++;
00016c  a2850002          ADDGE    r0,r5,#2
000170  a1a05800          LSLGE    r5,r0,#16             ;112
000174  a1a05845          ASRGE    r5,r5,#16             ;112
000178  baffffdd          BLT      |L1.244|
00017c  eaffffbc          B        |L1.116|
                  |L1.384|
;;;140             	}
;;;141         	}     	
;;;142    }
000180  e28dd05c          ADD      sp,sp,#0x5c
000184  e8bd4ff0          POP      {r4-r11,lr}
000188  e12fff1e          BX       lr
;;;143    #endif
                          ENDP

                  Lcd_DspAscII6x8 PROC
;;;156    extern UINT8T g_ucAscii6x8[];
;;;157    void Lcd_DspAscII6x8(UINT16T usX0, UINT16T usY0,UINT16T ForeColor, UINT8T* pucChar)
00018c  e92d5fff          PUSH     {r0-r12,lr}
;;;158    {
000190  e1a06003          MOV      r6,r3
000194  e1a08000          MOV      r8,r0
                  |L1.408|
;;;159    	UINT32T i,j;
;;;160    	UINT8T  ucTemp;
;;;161    
;;;162    	while( *pucChar != 0 )
000198  e5d60000          LDRB     r0,[r6,#0]
00019c  e3500000          CMP      r0,#0
;;;163    	{
;;;164    		for( i=0; i < 8; i++ )
;;;165    		{
;;;166      			ucTemp = g_ucAscii6x8[(*pucChar) * 8 + i];
;;;167      			for( j = 0; j < 8; j++ )
;;;168      			{
;;;169      				if( (ucTemp & (0x80 >> j)) != 0 )
;;;170      				{
;;;171      					PutPixel(usX0 + i, usY0 + 8 - j, (UINT16T)ForeColor);
0001a0  159fb0b0          LDRNE    r11,|L1.600|
0001a4  13a05000          MOVNE    r5,#0                 ;164
0001a8  13a0a080          MOVNE    r10,#0x80             ;169
0001ac  0a00001a          BEQ      |L1.540|
                  |L1.432|
0001b0  e5d60000          LDRB     r0,[r6,#0]            ;166
0001b4  e0887005          ADD      r7,r8,r5
0001b8  e3a04000          MOV      r4,#0                 ;167
0001bc  e0851180          ADD      r1,r5,r0,LSL #3       ;166
0001c0  e59f0094          LDR      r0,|L1.604|
0001c4  e7d09001          LDRB     r9,[r0,r1]            ;166
                  |L1.456|
0001c8  e1a0043a          LSR      r0,r10,r4             ;169
0001cc  e1100009          TST      r0,r9                 ;169
0001d0  0a000007          BEQ      |L1.500|
0001d4  e59d0004          LDR      r0,[sp,#4]
0001d8  e59b3000          LDR      r3,[r11,#0]  ; PutPixel
0001dc  e0401004          SUB      r1,r0,r4
0001e0  e59d2008          LDR      r2,[sp,#8]
0001e4  e1a00007          MOV      r0,r7
0001e8  e2811008          ADD      r1,r1,#8
0001ec  e1a0e00f          MOV      lr,pc
0001f0  e12fff13          BX       r3
                  |L1.500|
0001f4  e2844001          ADD      r4,r4,#1
0001f8  e3540008          CMP      r4,#8                 ;167
0001fc  3afffff1          BCC      |L1.456|
000200  e2855001          ADD      r5,r5,#1              ;167
000204  e3550008          CMP      r5,#8                 ;164
;;;172      				}  				
;;;173      			}
;;;174    		}
;;;175    		usX0 += XWIDTH;
000208  22880006          ADDCS    r0,r8,#6
00020c  23c08801          BICCS    r8,r0,#0x10000
000210  22866001          ADDCS    r6,r6,#1
000214  3affffe5          BCC      |L1.432|
000218  eaffffde          B        |L1.408|
                  |L1.540|
;;;176    		pucChar++;
;;;177    	}
;;;178    } 
00021c  e8bd5fff          POP      {r0-r12,lr}
000220  e12fff1e          BX       lr
                  |L1.548|
                          DCD      0x00004208
                  |L1.552|
000228  205b5446          DCB      " [TFT 64K COLOR(16bit/1pixel) LCD TEST]\n",0
00022c  54203634
000230  4b20434f
000234  4c4f5228
000238  31366269
00023c  742f3170
000240  6978656c
000244  29204c43
000248  44205445
00024c  53545d0a
000250  00      
000251  00                DCB      0
000252  00                DCB      0
000253  00                DCB      0
                  |L1.596|
                          DCD      g_auc_hzk24
                  |L1.600|
                          DCD      PutPixel
                  |L1.604|
                          DCD      g_ucAscii6x8
                          ENDP

                  Lcd_DspAscII8x16 PROC
;;;191    *********************************************************************************************/
;;;192    void Lcd_DspAscII8x16(UINT16T x0, UINT16T y0, UINT16T ForeColor, UINT8T * s)
000260  e92d4fff          PUSH     {r0-r11,lr}
;;;193    {
000264  e24dd014          SUB      sp,sp,#0x14
000268  e1a0a001          MOV      r10,r1
;;;194    	INT16T i,j,k,x,y,xx;
;;;195    	UINT8T qm;
;;;196    	INT32T ulOffset;
;;;197    	INT8T ywbuf[16];
00026c  e1a0700d          MOV      r7,sp
;;;198        
;;;199    	for(i = 0; i < strlen((const char*)s); i++)
000270  e3a06000          MOV      r6,#0
                  |L1.628|
000274  e59d0020          LDR      r0,[sp,#0x20]
000278  ebfffffe          BL       strlen
00027c  e1560000          CMP      r6,r0
000280  2a000032          BCS      |L1.848|
;;;200    	{
;;;201    		if((UINT8T)*(s+i) >= 161)
000284  e59d0020          LDR      r0,[sp,#0x20]
000288  e7d00006          LDRB     r0,[r0,r6]
00028c  e35000a1          CMP      r0,#0xa1
;;;202    		{
;;;203    			return;
;;;204    		}
;;;205    		else
;;;206    		{
;;;207    			qm = *(s+i);
;;;208                		ulOffset = (INT32T)(qm) * 16;	
;;;209                		for (j = 0; j < 16; j ++)
;;;210                		{
;;;211                			ywbuf[j] = g_ucAscii8x16[ulOffset + j];
000290  359f29cc          LDRCC    r2,|L1.3172|
000294  31a01200          LSLCC    r1,r0,#4              ;201
000298  33a00000          MOVCC    r0,#0                 ;209
00029c  2a00002b          BCS      |L1.848|
                  |L1.672|
0002a0  e081c000          ADD      r12,r1,r0
0002a4  e7d2c00c          LDRB     r12,[r2,r12]
0002a8  e2803001          ADD      r3,r0,#1              ;209
0002ac  e7c7c000          STRB     r12,[r7,r0]
0002b0  e1a00803          LSL      r0,r3,#16             ;209
0002b4  e1a00840          ASR      r0,r0,#16             ;209
0002b8  e3500010          CMP      r0,#0x10              ;209
;;;212                		}
;;;213    
;;;214                		for(y = 0; y < 16; y++)
0002bc  a3a05000          MOVGE    r5,#0
;;;215                		{
;;;216                   		for(x = 0; x < 8; x++) 
;;;217                   		{
;;;218                       			k = x % 8;
;;;219    			       	if (ywbuf[y]  & (0x80 >> k))
0002c0  a3a09080          MOVGE    r9,#0x80
0002c4  bafffff5          BLT      |L1.672|
                  |L1.712|
;;;220    			       	{
;;;221    			       		xx = x0 + x + i*8;
;;;222    			       		PutPixel( xx, y + y0, (UINT16T)ForeColor);
0002c8  e51fb078          LDR      r11,|L1.600|
0002cc  e085800a          ADD      r8,r5,r10
0002d0  e3a04000          MOV      r4,#0                 ;216
                  |L1.724|
0002d4  e1a00fc4          ASR      r0,r4,#31             ;218
0002d8  e0840ea0          ADD      r0,r4,r0,LSR #29      ;218
0002dc  e7d71005          LDRB     r1,[r7,r5]            ;219
0002e0  e3c00007          BIC      r0,r0,#7              ;218
0002e4  e0440000          SUB      r0,r4,r0              ;218
0002e8  e1110039          TST      r1,r9,LSR r0          ;219
0002ec  0a000009          BEQ      |L1.792|
0002f0  e59d0014          LDR      r0,[sp,#0x14]         ;221
0002f4  e59b3000          LDR      r3,[r11,#0]  ; PutPixel
0002f8  e0800004          ADD      r0,r0,r4              ;221
0002fc  e0800186          ADD      r0,r0,r6,LSL #3       ;221
000300  e1a00800          LSL      r0,r0,#16             ;221
000304  e59d201c          LDR      r2,[sp,#0x1c]
000308  e1a00840          ASR      r0,r0,#16             ;221
00030c  e1a01008          MOV      r1,r8                 ;221
000310  e1a0e00f          MOV      lr,pc
000314  e12fff13          BX       r3
                  |L1.792|
000318  e2840001          ADD      r0,r4,#1              ;216
00031c  e1a04800          LSL      r4,r0,#16             ;216
000320  e1a04844          ASR      r4,r4,#16             ;216
000324  e3540008          CMP      r4,#8                 ;216
000328  baffffe9          BLT      |L1.724|
00032c  e2850001          ADD      r0,r5,#1              ;214
000330  e1a05800          LSL      r5,r0,#16             ;214
000334  e1a05845          ASR      r5,r5,#16             ;214
000338  e3550010          CMP      r5,#0x10              ;214
00033c  a2860001          ADDGE    r0,r6,#1              ;199
000340  a1a06800          LSLGE    r6,r0,#16             ;199
000344  a1a06846          ASRGE    r6,r6,#16             ;199
000348  baffffde          BLT      |L1.712|
00034c  eaffffc8          B        |L1.628|
                  |L1.848|
;;;223    			       	}
;;;224    			   	}
;;;225                		}
;;;226             	}
;;;227         	}
;;;228    }
000350  e28dd024          ADD      sp,sp,#0x24
000354  e8bd4ff0          POP      {r4-r11,lr}
000358  e12fff1e          BX       lr
;;;229    #endif	
                          ENDP

                  lcd_clr PROC
;;;238    *********************************************************************************************/
;;;239    void lcd_clr(void)
00035c  e3e02000          MVN      r2,#0
;;;240    {
;;;241    	UINT32T i;
;;;242    	UINT32T *pDisp = (UINT32T*)LCD_ACTIVE_BUFFER;
000360  e3a015ce          MOV      r1,#0x33800000
;;;243    	
;;;244    	for (i = 0; i < (SCR_XSIZE_CSTN * SCR_YSIZE_CSTN /4); i++)
000364  e3a00000          MOV      r0,#0
                  |L1.872|
000368  e2800001          ADD      r0,r0,#1
00036c  e3500b4b          CMP      r0,#0x12c00
;;;245    	{
;;;246    		*pDisp = 0xffffffff;//ALLWHITE;
000370  e5812000          STR      r2,[r1,#0]
000374  3afffffb          BCC      |L1.872|
;;;247    	}
;;;248    }
000378  e12fff1e          BX       lr
;;;249    
                          ENDP

                  lcd_clr_rect PROC
;;;258    *********************************************************************************************/
;;;259    void lcd_clr_rect(INT16T usLeft, INT16T usTop, INT16T usRight, INT16T usBottom, UINT16T ucColor)
00037c  e92d47f0          PUSH     {r4-r10,lr}
;;;260    {
;;;261    	UINT32T i, j;
;;;262    	UINT8T *pDisp = (UINT8T*)LCD_ACTIVE_BUFFER;
;;;263    	
;;;264    	for (i = usLeft; i < usRight; i++)
;;;265    	for (j = usTop; j < usBottom; j++)
;;;266    	{
;;;267    		PutPixel(i,j,ucColor);
000380  e51f9130          LDR      r9,|L1.600|
000384  e59da020          LDR      r10,[sp,#0x20]
000388  e1a07003          MOV      r7,r3                 ;260
00038c  e1a08002          MOV      r8,r2                 ;260
000390  e1a06001          MOV      r6,r1                 ;260
000394  e1a05000          MOV      r5,r0                 ;260
                  |L1.920|
000398  e1550008          CMP      r5,r8                 ;264
00039c  31a04006          MOVCC    r4,r6                 ;265
0003a0  3a000008          BCC      |L1.968|
;;;268    		//*(pDisp+i+j) = ucColor;
;;;269    	}
;;;270    }
0003a4  e8bd47f0          POP      {r4-r10,lr}
0003a8  e12fff1e          BX       lr
                  |L1.940|
0003ac  e5993000          LDR      r3,[r9,#0]            ;267  ; PutPixel
0003b0  e1a0200a          MOV      r2,r10                ;267
0003b4  e1a01004          MOV      r1,r4                 ;267
0003b8  e1a00005          MOV      r0,r5                 ;267
0003bc  e1a0e00f          MOV      lr,pc                 ;267
0003c0  e12fff13          BX       r3                    ;267
0003c4  e2844001          ADD      r4,r4,#1              ;267
                  |L1.968|
0003c8  e1540007          CMP      r4,r7                 ;265
0003cc  e2a55000          ADC      r5,r5,#0              ;265
0003d0  2afffff0          BCS      |L1.920|
0003d4  eafffff4          B        |L1.940|
;;;271    
                          ENDP

                  Lcd_Draw_VLine PROC
;;;423    *********************************************************************************************/
;;;424    void Lcd_Draw_VLine (INT16T usY0, INT16T usY1, INT16T usX0, UINT16T ucColor, UINT16T usWidth)
0003d8  e92d47f0          PUSH     {r4-r10,lr}
;;;425    {
0003dc  e1a04000          MOV      r4,r0
;;;426    	INT16T usLen;
;;;427    
;;;428        if( usY1 < usY0 )
0003e0  e1510004          CMP      r1,r4
;;;429        {
;;;430            GUISWAP (usY1, usY0);
0003e4  b0210004          EORLT    r0,r1,r4
0003e8  b0244000          EORLT    r4,r4,r0
0003ec  b0201004          EORLT    r1,r0,r4
0003f0  e59d6020          LDR      r6,[sp,#0x20]         ;428
;;;431        }
;;;432    
;;;433        while( (usWidth--) > 0 )
;;;434        {
;;;435            usLen = usY1 - usY0 + 1;
;;;436            while( (usLen--) > 0 )
;;;437            {
;;;438            	PutPixel(usX0, usY0 + usLen, ucColor);
0003f4  e51fa1a4          LDR      r10,|L1.600|
0003f8  e0410004          SUB      r0,r1,r4              ;435
0003fc  e1a08003          MOV      r8,r3                 ;425
000400  e1a07002          MOV      r7,r2                 ;425
000404  e2809001          ADD      r9,r0,#1              ;435
                  |L1.1032|
000408  e2560001          SUBS     r0,r6,#1              ;433
00040c  e1a06800          LSL      r6,r0,#16             ;433
000410  21a05809          LSLCS    r5,r9,#16             ;435
000414  e1a06826          LSR      r6,r6,#16             ;433
000418  21a05845          ASRCS    r5,r5,#16             ;435
00041c  2a000007          BCS      |L1.1088|
;;;439            }
;;;440            usX0++;
;;;441        }
;;;442    }
000420  e8bd47f0          POP      {r4-r10,lr}
000424  e12fff1e          BX       lr
                  |L1.1064|
000428  e59a3000          LDR      r3,[r10,#0]           ;438  ; PutPixel
00042c  e0841005          ADD      r1,r4,r5              ;438
000430  e1a02008          MOV      r2,r8                 ;438
000434  e1a00007          MOV      r0,r7                 ;438
000438  e1a0e00f          MOV      lr,pc                 ;438
00043c  e12fff13          BX       r3                    ;438
                  |L1.1088|
000440  e3550000          CMP      r5,#0                 ;436
000444  e2450001          SUB      r0,r5,#1              ;436
000448  e1a05800          LSL      r5,r0,#16             ;436
00044c  d2870001          ADDLE    r0,r7,#1              ;440
000450  d1a07800          LSLLE    r7,r0,#16             ;440
000454  e1a05845          ASR      r5,r5,#16             ;436
000458  d1a07847          ASRLE    r7,r7,#16             ;440
00045c  daffffe9          BLE      |L1.1032|
000460  eafffff0          B        |L1.1064|
;;;443    
                          ENDP

                  Lcd_Draw_HLine PROC
;;;392    *********************************************************************************************/
;;;393    void Lcd_Draw_HLine(INT16T usX0, INT16T usX1, INT16T usY0, UINT16T ucColor, UINT16T usWidth)
000464  e92d47f0          PUSH     {r4-r10,lr}
;;;394    {
000468  e1a04000          MOV      r4,r0
;;;395    	INT16T usLen;
;;;396    
;;;397        if( usX1 < usX0 )
00046c  e1510004          CMP      r1,r4
;;;398        {
;;;399            GUISWAP (usX1, usX0);
000470  b0210004          EORLT    r0,r1,r4
000474  b0244000          EORLT    r4,r4,r0
000478  b0201004          EORLT    r1,r0,r4
00047c  e59d6020          LDR      r6,[sp,#0x20]         ;397
;;;400        }
;;;401    
;;;402        while( (usWidth--) > 0 )
;;;403        {
;;;404            usLen = usX1 - usX0 + 1;
;;;405            while( (usLen--) > 0 )
;;;406            {
;;;407            	PutPixel(usX0 + usLen, usY0, ucColor);
000480  e51fa230          LDR      r10,|L1.600|
000484  e0410004          SUB      r0,r1,r4              ;404
000488  e1a08003          MOV      r8,r3                 ;394
00048c  e1a07002          MOV      r7,r2                 ;394
000490  e2809001          ADD      r9,r0,#1              ;404
                  |L1.1172|
000494  e2560001          SUBS     r0,r6,#1              ;402
000498  e1a06800          LSL      r6,r0,#16             ;402
00049c  21a05809          LSLCS    r5,r9,#16             ;404
0004a0  e1a06826          LSR      r6,r6,#16             ;402
0004a4  21a05845          ASRCS    r5,r5,#16             ;404
0004a8  2a000007          BCS      |L1.1228|
;;;408            }
;;;409            usY0++;
;;;410        }
;;;411    }
0004ac  e8bd47f0          POP      {r4-r10,lr}
0004b0  e12fff1e          BX       lr
                  |L1.1204|
0004b4  e59a3000          LDR      r3,[r10,#0]           ;407  ; PutPixel
0004b8  e0840005          ADD      r0,r4,r5              ;407
0004bc  e1a02008          MOV      r2,r8                 ;407
0004c0  e1a01007          MOV      r1,r7                 ;407
0004c4  e1a0e00f          MOV      lr,pc                 ;407
0004c8  e12fff13          BX       r3                    ;407
                  |L1.1228|
0004cc  e3550000          CMP      r5,#0                 ;405
0004d0  e2450001          SUB      r0,r5,#1              ;405
0004d4  e1a05800          LSL      r5,r0,#16             ;405
0004d8  d2870001          ADDLE    r0,r7,#1              ;409
0004dc  d1a07800          LSLLE    r7,r0,#16             ;409
0004e0  e1a05845          ASR      r5,r5,#16             ;405
0004e4  d1a07847          ASRLE    r7,r7,#16             ;409
0004e8  daffffe9          BLE      |L1.1172|
0004ec  eafffff0          B        |L1.1204|
;;;412    
                          ENDP

                  Lcd_Draw_Box PROC
;;;280    *********************************************************************************************/
;;;281    void Lcd_Draw_Box(INT16T usLeft, INT16T usTop, INT16T usRight, INT16T usBottom, UINT16T ucColor)
0004f0  e92d43f8          PUSH     {r3-r9,lr}
;;;282    {
;;;283    	Lcd_Draw_HLine(usLeft, usRight,  usTop,    ucColor, 1);
0004f4  e59d7020          LDR      r7,[sp,#0x20]
0004f8  e1a05002          MOV      r5,r2                 ;282
0004fc  e1a08003          MOV      r8,r3                 ;282
000500  e1a09001          MOV      r9,r1                 ;282
000504  e3a04001          MOV      r4,#1
000508  e1a02001          MOV      r2,r1
00050c  e1a06000          MOV      r6,r0                 ;282
000510  e1a03007          MOV      r3,r7
000514  e1a01005          MOV      r1,r5
000518  e58d4000          STR      r4,[sp,#0]
00051c  ebfffffe          BL       Lcd_Draw_HLine
;;;284    	Lcd_Draw_HLine(usLeft, usRight,  usBottom, ucColor, 1);
000520  e1a03007          MOV      r3,r7
000524  e1a02008          MOV      r2,r8
000528  e1a01005          MOV      r1,r5
00052c  e1a00006          MOV      r0,r6
000530  e58d4000          STR      r4,[sp,#0]
000534  ebfffffe          BL       Lcd_Draw_HLine
;;;285    	Lcd_Draw_VLine(usTop,  usBottom, usLeft,   ucColor, 1);
000538  e1a03007          MOV      r3,r7
00053c  e1a02006          MOV      r2,r6
000540  e1a01008          MOV      r1,r8
000544  e1a00009          MOV      r0,r9
000548  e58d4000          STR      r4,[sp,#0]
00054c  ebfffffe          BL       Lcd_Draw_VLine
;;;286    	Lcd_Draw_VLine(usTop,  usBottom, usRight,  ucColor, 1);
000550  e1a03007          MOV      r3,r7
000554  e1a02005          MOV      r2,r5
000558  e1a01008          MOV      r1,r8
00055c  e1a00009          MOV      r0,r9
000560  e58d4000          STR      r4,[sp,#0]
000564  ebfffffe          BL       Lcd_Draw_VLine
;;;287    }
000568  e8bd43f8          POP      {r3-r9,lr}
00056c  e12fff1e          BX       lr
;;;288    
                          ENDP

                  Lcd_Draw_Line PROC
;;;299    *********************************************************************************************/
;;;300    void Lcd_Draw_Line(INT16T usX0, INT16T usY0, INT16T usX1, INT16T usY1, UINT16T ucColor, UINT16T usWidth)
000570  e92d4ffe          PUSH     {r1-r11,lr}
;;;301    {
;;;302    	INT16T usDx;
;;;303    	INT16T usDy;
;;;304    	INT16T y_sign;
;;;305    	INT16T x_sign;
;;;306    	INT16T decision;
;;;307    	INT16T wCurx, wCury, wNextx, wNexty, wpy, wpx;
;;;308    
;;;309    	if( usY0 == usY1 )
000574  e59d8034          LDR      r8,[sp,#0x34]
000578  e1a07003          MOV      r7,r3                 ;301
00057c  e1510007          CMP      r1,r7
000580  e1a06002          MOV      r6,r2                 ;301
000584  e1a04001          MOV      r4,r1                 ;301
000588  e1a05000          MOV      r5,r0                 ;301
00058c  1a000006          BNE      |L1.1452|
;;;310    	{
;;;311    		Lcd_Draw_HLine (usX0, usX1, usY0, ucColor, usWidth);
000590  e1a02001          MOV      r2,r1
000594  e59d3030          LDR      r3,[sp,#0x30]
000598  e1a01006          MOV      r1,r6
00059c  e58d8000          STR      r8,[sp,#0]
0005a0  ebfffffe          BL       Lcd_Draw_HLine
                  |L1.1444|
;;;312    		return;
;;;313    	}
;;;314    	if( usX0 == usX1 )
;;;315    	{
;;;316    		Lcd_Draw_VLine (usY0, usY1, usX0, ucColor, usWidth);
;;;317    		return;
;;;318    	}
;;;319    	usDx = abs(usX0 - usX1);
;;;320    	usDy = abs(usY0 - usY1);
;;;321    	if( ((usDx >= usDy && (usX0 > usX1)) ||
;;;322            ((usDy > usDx) && (usY0 > usY1))) )
;;;323        {
;;;324            GUISWAP(usX1, usX0);
;;;325            GUISWAP(usY1, usY0);
;;;326        }
;;;327        y_sign = (usY1 - usY0) / usDy;
;;;328        x_sign = (usX1 - usX0) / usDx;
;;;329    
;;;330        if( usDx >= usDy )
;;;331        {
;;;332            for( wCurx = usX0, wCury = usY0, wNextx = usX1,
;;;333                 wNexty = usY1, decision = (usDx >> 1);
;;;334                 wCurx <= wNextx; wCurx++, wNextx--, decision += usDy )
;;;335            {
;;;336                if( decision >= usDx )
;;;337                {
;;;338                    decision -= usDx;
;;;339                    wCury += y_sign;
;;;340                    wNexty -= y_sign;
;;;341                }
;;;342                for( wpy = wCury - usWidth / 2;
;;;343                     wpy <= wCury + usWidth / 2; wpy++ )
;;;344                {
;;;345                    PutPixel(wCurx, wpy, ucColor);
;;;346                }
;;;347    
;;;348                for( wpy = wNexty - usWidth / 2;
;;;349                     wpy <= wNexty + usWidth / 2; wpy++ )
;;;350                {
;;;351                    PutPixel(wNextx, wpy, ucColor);
;;;352                }
;;;353            }
;;;354        }
;;;355        else
;;;356        {
;;;357            for( wCurx = usX0, wCury = usY0, wNextx = usX1,
;;;358                 wNexty = usY1, decision = (usDy >> 1);
;;;359                 wCury <= wNexty; wCury++, wNexty--, decision += usDx )
;;;360            {
;;;361                if( decision >= usDy )
;;;362                {
;;;363                    decision -= usDy;
;;;364                    wCurx += x_sign;
;;;365                    wNextx -= x_sign;
;;;366                }
;;;367                for( wpx = wCurx - usWidth / 2;
;;;368                     wpx <= wCurx + usWidth / 2; wpx++ )
;;;369                {
;;;370                    PutPixel(wpx, wCury, ucColor);
;;;371                }
;;;372    
;;;373                for( wpx = wNextx - usWidth / 2;
;;;374                     wpx <= wNextx + usWidth / 2; wpx++ )
;;;375                {
;;;376                    PutPixel(wpx, wNexty, ucColor);
;;;377                }
;;;378            }
;;;379        }
;;;380    }
0005a4  e8bd4ffe          POP      {r1-r11,lr}
0005a8  e12fff1e          BX       lr
                  |L1.1452|
0005ac  e1550006          CMP      r5,r6                 ;314
0005b0  1a000006          BNE      |L1.1488|
0005b4  e1a02000          MOV      r2,r0                 ;316
0005b8  e59d3030          LDR      r3,[sp,#0x30]         ;316
0005bc  e1a01007          MOV      r1,r7                 ;316
0005c0  e1a00004          MOV      r0,r4                 ;316
0005c4  e58d8000          STR      r8,[sp,#0]            ;316
0005c8  ebfffffe          BL       Lcd_Draw_VLine
0005cc  eafffff4          B        |L1.1444|
                  |L1.1488|
0005d0  e0550006          SUBS     r0,r5,r6              ;319
0005d4  42600000          RSBMI    r0,r0,#0              ;319
0005d8  e1a0a800          LSL      r10,r0,#16            ;319
0005dc  e0540007          SUBS     r0,r4,r7              ;320
0005e0  42600000          RSBMI    r0,r0,#0              ;320
0005e4  e1a09800          LSL      r9,r0,#16             ;320
0005e8  e1a0a84a          ASR      r10,r10,#16           ;319
0005ec  e1a09849          ASR      r9,r9,#16             ;320
0005f0  e15a0009          CMP      r10,r9                ;321
0005f4  a1550006          CMPGE    r5,r6                 ;321
0005f8  ca000002          BGT      |L1.1544|
0005fc  e159000a          CMP      r9,r10                ;322
000600  c1540007          CMPGT    r4,r7                 ;322
000604  da000005          BLE      |L1.1568|
                  |L1.1544|
000608  e0220005          EOR      r0,r2,r5              ;324
00060c  e0231004          EOR      r1,r3,r4              ;325
000610  e0255000          EOR      r5,r5,r0              ;324
000614  e0244001          EOR      r4,r4,r1              ;325
000618  e0206005          EOR      r6,r0,r5              ;324
00061c  e0217004          EOR      r7,r1,r4              ;325
                  |L1.1568|
000620  e0470004          SUB      r0,r7,r4              ;327
000624  e1a01009          MOV      r1,r9                 ;327
000628  ebfffffe          BL       __aeabi_idivmod
00062c  e1a00800          LSL      r0,r0,#16             ;327
000630  e1a00840          ASR      r0,r0,#16             ;327
000634  e58d0004          STR      r0,[sp,#4]            ;327
000638  e0460005          SUB      r0,r6,r5              ;328
00063c  e1a0100a          MOV      r1,r10                ;328
000640  ebfffffe          BL       __aeabi_idivmod
000644  e15a0009          CMP      r10,r9                ;330
000648  e1a00800          LSL      r0,r0,#16             ;328
00064c  e1a00840          ASR      r0,r0,#16             ;328
000650  e58d0008          STR      r0,[sp,#8]            ;328
000654  a1a000ca          ASRGE    r0,r10,#1             ;333
000658  a58d0008          STRGE    r0,[sp,#8]            ;333
00065c  b1a000c9          ASRLT    r0,r9,#1              ;358
000660  a58d7000          STRGE    r7,[sp,#0]            ;333
000664  b58d0004          STRLT    r0,[sp,#4]            ;357
000668  b58d6000          STRLT    r6,[sp,#0]            ;357
00066c  aa00003a          BGE      |L1.1884|
000670  ea000077          B        |L1.2132|
                  |L1.1652|
000674  e15a0000          CMP      r10,r0                ;336
000678  ca00000c          BGT      |L1.1712|
00067c  e040200a          SUB      r2,r0,r10             ;338
000680  e59d0004          LDR      r0,[sp,#4]            ;339
000684  e0843000          ADD      r3,r4,r0              ;339
000688  e89d0003          LDM      sp,{r0,r1}            ;339
00068c  e1a04803          LSL      r4,r3,#16             ;339
000690  e0401001          SUB      r1,r0,r1              ;340
000694  e1a00802          LSL      r0,r2,#16             ;338
000698  e1a00840          ASR      r0,r0,#16             ;338
00069c  e58d0008          STR      r0,[sp,#8]            ;339
0006a0  e1a00801          LSL      r0,r1,#16             ;340
0006a4  e1a00840          ASR      r0,r0,#16             ;340
0006a8  e1a04844          ASR      r4,r4,#16             ;339
0006ac  e58d0000          STR      r0,[sp,#0]            ;340
                  |L1.1712|
0006b0  e04400a8          SUB      r0,r4,r8,LSR #1       ;342
0006b4  e084b0a8          ADD      r11,r4,r8,LSR #1      ;343
0006b8  ea000007          B        |L1.1756|
                  |L1.1724|
0006bc  e51f346c          LDR      r3,|L1.600|
0006c0  e59d2030          LDR      r2,[sp,#0x30]         ;345
0006c4  e5933000          LDR      r3,[r3,#0]            ;345  ; PutPixel
0006c8  e1a01007          MOV      r1,r7                 ;345
0006cc  e1a00005          MOV      r0,r5                 ;345
0006d0  e1a0e00f          MOV      lr,pc                 ;345
0006d4  e12fff13          BX       r3                    ;345
0006d8  e2870001          ADD      r0,r7,#1              ;343
                  |L1.1756|
0006dc  e1a07800          LSL      r7,r0,#16             ;342
0006e0  e1a07847          ASR      r7,r7,#16             ;342
0006e4  e15b0007          CMP      r11,r7                ;343
0006e8  aafffff3          BGE      |L1.1724|
0006ec  e59d0000          LDR      r0,[sp,#0]            ;348
0006f0  e04010a8          SUB      r1,r0,r8,LSR #1       ;348
0006f4  e080b0a8          ADD      r11,r0,r8,LSR #1      ;349
0006f8  e1a07801          LSL      r7,r1,#16             ;348
0006fc  ea000008          B        |L1.1828|
                  |L1.1792|
000700  e51f34b0          LDR      r3,|L1.600|
000704  e59d2030          LDR      r2,[sp,#0x30]         ;351
000708  e5933000          LDR      r3,[r3,#0]            ;351  ; PutPixel
00070c  e1a01007          MOV      r1,r7                 ;351
000710  e1a00006          MOV      r0,r6                 ;351
000714  e1a0e00f          MOV      lr,pc                 ;351
000718  e12fff13          BX       r3                    ;351
00071c  e2870001          ADD      r0,r7,#1              ;349
000720  e1a07800          LSL      r7,r0,#16             ;349
                  |L1.1828|
000724  e1a07847          ASR      r7,r7,#16             ;349
000728  e15b0007          CMP      r11,r7                ;349
00072c  aafffff3          BGE      |L1.1792|
000730  e59d0008          LDR      r0,[sp,#8]            ;334
000734  e2851001          ADD      r1,r5,#1              ;334
000738  e0800009          ADD      r0,r0,r9              ;334
00073c  e2462001          SUB      r2,r6,#1              ;334
000740  e1a00800          LSL      r0,r0,#16             ;334
000744  e1a00840          ASR      r0,r0,#16             ;334
000748  e1a05801          LSL      r5,r1,#16             ;334
00074c  e1a06802          LSL      r6,r2,#16             ;334
000750  e1a05845          ASR      r5,r5,#16             ;334
000754  e1a06846          ASR      r6,r6,#16             ;334
000758  e58d0008          STR      r0,[sp,#8]            ;334
                  |L1.1884|
00075c  e1550006          CMP      r5,r6                 ;334
000760  daffffc3          BLE      |L1.1652|
000764  eaffff8e          B        |L1.1444|
                  |L1.1896|
000768  e1500009          CMP      r0,r9                 ;361
00076c  ba00000d          BLT      |L1.1960|
000770  e0402009          SUB      r2,r0,r9              ;363
000774  e59d0008          LDR      r0,[sp,#8]            ;364
000778  e59d1008          LDR      r1,[sp,#8]            ;365
00077c  e0853000          ADD      r3,r5,r0              ;364
000780  e59d0000          LDR      r0,[sp,#0]            ;365
000784  e1a05803          LSL      r5,r3,#16             ;364
000788  e0401001          SUB      r1,r0,r1              ;365
00078c  e1a00802          LSL      r0,r2,#16             ;363
000790  e1a00840          ASR      r0,r0,#16             ;363
000794  e58d0004          STR      r0,[sp,#4]            ;364
000798  e1a00801          LSL      r0,r1,#16             ;365
00079c  e1a00840          ASR      r0,r0,#16             ;365
0007a0  e1a05845          ASR      r5,r5,#16             ;364
0007a4  e58d0000          STR      r0,[sp,#0]            ;365
                  |L1.1960|
0007a8  e04500a8          SUB      r0,r5,r8,LSR #1       ;367
0007ac  e085b0a8          ADD      r11,r5,r8,LSR #1      ;368
0007b0  ea000007          B        |L1.2004|
                  |L1.1972|
0007b4  e51f3564          LDR      r3,|L1.600|
0007b8  e59d2030          LDR      r2,[sp,#0x30]         ;370
0007bc  e5933000          LDR      r3,[r3,#0]            ;370  ; PutPixel
0007c0  e1a01004          MOV      r1,r4                 ;370
0007c4  e1a00006          MOV      r0,r6                 ;370
0007c8  e1a0e00f          MOV      lr,pc                 ;370
0007cc  e12fff13          BX       r3                    ;370
0007d0  e2860001          ADD      r0,r6,#1              ;368
                  |L1.2004|
0007d4  e1a06800          LSL      r6,r0,#16             ;367
0007d8  e1a06846          ASR      r6,r6,#16             ;367
0007dc  e15b0006          CMP      r11,r6                ;368
0007e0  aafffff3          BGE      |L1.1972|
0007e4  e59d0000          LDR      r0,[sp,#0]            ;373
0007e8  e04010a8          SUB      r1,r0,r8,LSR #1       ;373
0007ec  e080b0a8          ADD      r11,r0,r8,LSR #1      ;374
0007f0  e1a06801          LSL      r6,r1,#16             ;373
0007f4  ea000008          B        |L1.2076|
                  |L1.2040|
0007f8  e51f35a8          LDR      r3,|L1.600|
0007fc  e59d2030          LDR      r2,[sp,#0x30]         ;376
000800  e5933000          LDR      r3,[r3,#0]            ;376  ; PutPixel
000804  e1a01007          MOV      r1,r7                 ;376
000808  e1a00006          MOV      r0,r6                 ;376
00080c  e1a0e00f          MOV      lr,pc                 ;376
000810  e12fff13          BX       r3                    ;376
000814  e2860001          ADD      r0,r6,#1              ;374
000818  e1a06800          LSL      r6,r0,#16             ;374
                  |L1.2076|
00081c  e1a06846          ASR      r6,r6,#16             ;374
000820  e15b0006          CMP      r11,r6                ;374
000824  aafffff3          BGE      |L1.2040|
000828  e59d0004          LDR      r0,[sp,#4]            ;359
00082c  e2841001          ADD      r1,r4,#1              ;359
000830  e080000a          ADD      r0,r0,r10             ;359
000834  e2472001          SUB      r2,r7,#1              ;359
000838  e1a00800          LSL      r0,r0,#16             ;359
00083c  e1a00840          ASR      r0,r0,#16             ;359
000840  e1a04801          LSL      r4,r1,#16             ;359
000844  e1a07802          LSL      r7,r2,#16             ;359
000848  e1a04844          ASR      r4,r4,#16             ;359
00084c  e1a07847          ASR      r7,r7,#16             ;359
000850  e58d0004          STR      r0,[sp,#4]            ;359
                  |L1.2132|
000854  e1570004          CMP      r7,r4                 ;359
000858  aaffffc2          BGE      |L1.1896|
00085c  eaffff50          B        |L1.1444|
;;;381    
                          ENDP

                  _GetTft16Bit_800480 PROC
;;;462    
;;;463    UINT32T _GetTft16Bit_800480(UINT32T x,UINT32T y) {
000860  e3500d19          CMP      r0,#0x640
;;;464        if (x < SCR_XSIZE_TFT_800480 && y < SCR_YSIZE_TFT_800480)
000864  33510d0f          CMPCC    r1,#0x3c0
;;;465            return (frameBuffer16BitTft800480[y][x/2] >> ((2-1-((x)%2))*16)) & 0x0000ffff;
;;;466        else
;;;467            return 0;
000868  23a00000          MOVCS    r0,#0
;;;468    	}
00086c  212fff1e          BXCS     lr
000870  e0813181          ADD      r3,r1,r1,LSL #3
000874  e0831201          ADD      r1,r3,r1,LSL #4       ;465
000878  e1a030a0          LSR      r3,r0,#1              ;465
00087c  e59f23e4          LDR      r2,|L1.3176|
000880  e2000001          AND      r0,r0,#1              ;465
000884  e5922000          LDR      r2,[r2,#0]            ;465  ; frameBuffer16BitTft800480
000888  e2600001          RSB      r0,r0,#1              ;465
00088c  e0821381          ADD      r1,r2,r1,LSL #7       ;465
000890  e7911103          LDR      r1,[r1,r3,LSL #2]     ;465
000894  e1a00200          LSL      r0,r0,#4              ;465
000898  e1a00031          LSR      r0,r1,r0              ;465
00089c  e1a00800          LSL      r0,r0,#16             ;465
0008a0  e1a00820          LSR      r0,r0,#16             ;465
0008a4  e12fff1e          BX       lr
;;;469    #define SCROLL_SPEED 6
                          ENDP

                  scrollScreen PROC
;;;470    void scrollScreen() {
0008a8  e92d47f0          PUSH     {r4-r10,lr}
;;;471    	int x,y;
;;;472        for (y = 110; y < 450; y++) {
;;;473            for (x =40; x < 700-SCROLL_SPEED; x++) {
0008ac  e59f73b8          LDR      r7,|L1.3180|
0008b0  e3a0506e          MOV      r5,#0x6e              ;472
0008b4  e24760f4          SUB      r6,r7,#0xf4           ;472
                  |L1.2232|
0008b8  e3a04028          MOV      r4,#0x28
                  |L1.2236|
;;;474                UINT32T color = _GetTft16Bit_800480(x + SCROLL_SPEED, y);
0008bc  e1a01005          MOV      r1,r5
0008c0  e2840006          ADD      r0,r4,#6
0008c4  ebfffffe          BL       _GetTft16Bit_800480
0008c8  e1a02000          MOV      r2,r0
;;;475                _PutTft16Bit_800480(x, y, color);
0008cc  e1a01005          MOV      r1,r5
0008d0  e1a00004          MOV      r0,r4
0008d4  ebfffffe          BL       _PutTft16Bit_800480
0008d8  e2844001          ADD      r4,r4,#1
0008dc  e1540007          CMP      r4,r7                 ;473
0008e0  bafffff5          BLT      |L1.2236|
0008e4  e2855001          ADD      r5,r5,#1              ;473
0008e8  e1550006          CMP      r5,r6                 ;472
;;;476            }
;;;477        }
;;;478        for (y = 110; y < 450; y++) {
;;;479    			for(x = 700 - SCROLL_SPEED ;x < 702;x ++){
;;;480            _PutTft16Bit_800480(x, y, WHITE);
0008ec  a59f937c          LDRGE    r9,|L1.3184|
0008f0  a3a0506e          MOVGE    r5,#0x6e              ;478
0008f4  a2858e25          ADDGE    r8,r5,#0x250          ;479
0008f8  baffffee          BLT      |L1.2232|
                  |L1.2300|
0008fc  e1a04007          MOV      r4,r7                 ;479
                  |L1.2304|
000900  e1a02009          MOV      r2,r9
000904  e1a01005          MOV      r1,r5
000908  e1a00004          MOV      r0,r4
00090c  ebfffffe          BL       _PutTft16Bit_800480
000910  e2844001          ADD      r4,r4,#1
000914  e1540008          CMP      r4,r8                 ;479
000918  bafffff8          BLT      |L1.2304|
00091c  e2855001          ADD      r5,r5,#1              ;479
000920  e1550006          CMP      r5,r6                 ;478
000924  bafffff4          BLT      |L1.2300|
;;;481        }
;;;482    	}
;;;483    }
000928  e8bd47f0          POP      {r4-r10,lr}
00092c  e12fff1e          BX       lr
;;;484    
                          ENDP

                  show PROC
;;;485    void show(void)
000930  e92d41fc          PUSH     {r2-r8,lr}
;;;486    {
;;;487     int y=25;
;;;488     int i,j;
;;;489    	//BitmapView((unsigned char*)g_ucBitmap);
;;;490     lcd_clr_rect(42,110,705,450,WHITE);
000934  e59f4334          LDR      r4,|L1.3184|
000938  e59f5334          LDR      r5,|L1.3188|
00093c  e3a0106e          MOV      r1,#0x6e
000940  e1a03005          MOV      r3,r5
000944  e0852444          ADD      r2,r5,r4,ASR #8
000948  e3a0002a          MOV      r0,#0x2a
00094c  e58d4000          STR      r4,[sp,#0]
000950  ebfffffe          BL       lcd_clr_rect
;;;491    	
;;;492     Glib_FilledRectangle(0,0,800,700,WHITE);
000954  e3a01000          MOV      r1,#0
000958  e3a03faf          MOV      r3,#0x2bc
00095c  e3a02e32          MOV      r2,#0x320
000960  e1a00001          MOV      r0,r1
000964  e58d4000          STR      r4,[sp,#0]
000968  ebfffffe          BL       Glib_FilledRectangle
;;;493    
;;;494     //显示学号姓名
;;;495    	Lcd_DspAscII8x16(120,25,BLACK,"20101111");
00096c  e28f3fc1          ADR      r3,|L1.3192|
000970  e3a02000          MOV      r2,#0
000974  e3a01019          MOV      r1,#0x19
000978  e3a00078          MOV      r0,#0x78
00097c  ebfffffe          BL       Lcd_DspAscII8x16
;;;496     Lcd_DspHz24(190,25,BLACK,"张子霖");
000980  e28f3fbf          ADR      r3,|L1.3204|
000984  e3a02000          MOV      r2,#0
000988  e3a01019          MOV      r1,#0x19
00098c  e3a000be          MOV      r0,#0xbe
000990  ebfffffe          BL       Lcd_DspHz24
;;;497    	Lcd_DspAscII8x16(270,25,BLACK,"20101113");
000994  e3a01019          MOV      r1,#0x19
000998  e28f3fbb          ADR      r3,|L1.3212|
00099c  e3a02000          MOV      r2,#0
0009a0  e28100f5          ADD      r0,r1,#0xf5
0009a4  ebfffffe          BL       Lcd_DspAscII8x16
;;;498    Lcd_DspHz24(340,25,BLACK,"李昂");
0009a8  e28f3fba          ADR      r3,|L1.3224|
0009ac  e3a02000          MOV      r2,#0
0009b0  e3a01019          MOV      r1,#0x19
0009b4  e3a00f55          MOV      r0,#0x154
0009b8  ebfffffe          BL       Lcd_DspHz24
;;;499    	Lcd_DspAscII8x16(390,25,BLACK,"20101113");
0009bc  e28f3fb2          ADR      r3,|L1.3212|
0009c0  e3a02000          MOV      r2,#0
0009c4  e3a01019          MOV      r1,#0x19
0009c8  e245003c          SUB      r0,r5,#0x3c
0009cc  ebfffffe          BL       Lcd_DspAscII8x16
;;;500    	Lcd_DspHz24(450,25,BLACK,"何涛");
0009d0  e28f3fb2          ADR      r3,|L1.3232|
0009d4  e3a02000          MOV      r2,#0
0009d8  e3a01019          MOV      r1,#0x19
0009dc  e1a00005          MOV      r0,r5
0009e0  ebfffffe          BL       Lcd_DspHz24
;;;501    
;;;502     //绘制坐标轴
;;;503     Lcd_Draw_Line(35,70,35,455,BLACK,2);
0009e4  e59f62bc          LDR      r6,|L1.3240|
0009e8  e3a04002          MOV      r4,#2
0009ec  e3a05000          MOV      r5,#0
0009f0  e3a02023          MOV      r2,#0x23
0009f4  e1a03006          MOV      r3,r6
0009f8  e3a01046          MOV      r1,#0x46
0009fc  e1a00002          MOV      r0,r2
000a00  e58d4004          STR      r4,[sp,#4]
000a04  e58d5000          STR      r5,[sp,#0]
000a08  ebfffffe          BL       Lcd_Draw_Line
;;;504     Lcd_Draw_Line(35,455,700,455,BLACK,2);
000a0c  e1a03006          MOV      r3,r6
000a10  e3a02faf          MOV      r2,#0x2bc
000a14  e1a01003          MOV      r1,r3
000a18  e3a00023          MOV      r0,#0x23
000a1c  e58d4004          STR      r4,[sp,#4]
000a20  e58d5000          STR      r5,[sp,#0]
000a24  ebfffffe          BL       Lcd_Draw_Line
;;;505     Lcd_DspHz24(60,70,BLACK,"电压"); 
000a28  e28f3f9f          ADR      r3,|L1.3244|
000a2c  e3a02000          MOV      r2,#0
000a30  e3a01046          MOV      r1,#0x46
000a34  e3a0003c          MOV      r0,#0x3c
000a38  ebfffffe          BL       Lcd_DspHz24
;;;506     Lcd_DspAscII6x8(110,80,BLACK,"(V)");
000a3c  e28f3e27          ADR      r3,|L1.3252|
000a40  e3a02000          MOV      r2,#0
000a44  e3a01050          MOV      r1,#0x50
000a48  e3a0006e          MOV      r0,#0x6e
000a4c  ebfffffe          BL       Lcd_DspAscII6x8
;;;507     //y
;;;508     Lcd_Draw_Line(35,110,30,120,BLACK,2);
000a50  e3a03078          MOV      r3,#0x78
000a54  e3a0201e          MOV      r2,#0x1e
000a58  e3a0106e          MOV      r1,#0x6e
000a5c  e3a00023          MOV      r0,#0x23
000a60  e58d4004          STR      r4,[sp,#4]
000a64  e58d5000          STR      r5,[sp,#0]
000a68  ebfffffe          BL       Lcd_Draw_Line
;;;509     Lcd_Draw_Line(35,110,35,120,BLACK,2);
000a6c  e3a02023          MOV      r2,#0x23
000a70  e3a03078          MOV      r3,#0x78
000a74  e3a0106e          MOV      r1,#0x6e
000a78  e1a00002          MOV      r0,r2
000a7c  e58d4004          STR      r4,[sp,#4]
000a80  e58d5000          STR      r5,[sp,#0]
000a84  ebfffffe          BL       Lcd_Draw_Line
;;;510     //x
;;;511     Lcd_Draw_Line(700,455,690,460,BLACK,2);
000a88  e3a03f73          MOV      r3,#0x1cc
000a8c  e28370e6          ADD      r7,r3,#0xe6
000a90  e1a02007          MOV      r2,r7
000a94  e1a01006          MOV      r1,r6
000a98  e3a00faf          MOV      r0,#0x2bc
000a9c  e58d4004          STR      r4,[sp,#4]
000aa0  e58d5000          STR      r5,[sp,#0]
000aa4  ebfffffe          BL       Lcd_Draw_Line
;;;512     Lcd_Draw_Line(700,455,690,460,BLACK,2);
000aa8  e3a03f73          MOV      r3,#0x1cc
000aac  e1a02007          MOV      r2,r7
000ab0  e1a01006          MOV      r1,r6
000ab4  e3a00faf          MOV      r0,#0x2bc
000ab8  e58d4004          STR      r4,[sp,#4]
000abc  e58d5000          STR      r5,[sp,#0]
000ac0  ebfffffe          BL       Lcd_Draw_Line
;;;513     //刻度
;;;514     for(i=110;i<460;i+=20){
000ac4  e3a0606e          MOV      r6,#0x6e
                  |L1.2760|
;;;515      Lcd_Draw_Line(35,i,40,i,BLACK,2);
000ac8  e1a03806          LSL      r3,r6,#16
000acc  e1a03843          ASR      r3,r3,#16
000ad0  e1a01003          MOV      r1,r3
000ad4  e3a02028          MOV      r2,#0x28
000ad8  e3a00023          MOV      r0,#0x23
000adc  e58d4004          STR      r4,[sp,#4]
000ae0  e58d5000          STR      r5,[sp,#0]
000ae4  ebfffffe          BL       Lcd_Draw_Line
000ae8  e2866014          ADD      r6,r6,#0x14
000aec  e3560f73          CMP      r6,#0x1cc             ;514
000af0  bafffff4          BLT      |L1.2760|
;;;516     }
;;;517     /*
;;;518     for(i=110;i<450;i+=20){
;;;519      Lcd_Draw_Line(40,j,45,j,BLACK,2);
;;;520     }
;;;521    */
;;;522     //刻度值
;;;523     Lcd_DspAscII6x8(5,105,BLACK,"3.4");
000af4  e28f3f6f          ADR      r3,|L1.3256|
000af8  e3a02000          MOV      r2,#0
000afc  e3a01069          MOV      r1,#0x69
000b00  e3a00005          MOV      r0,#5
000b04  ebfffffe          BL       Lcd_DspAscII6x8
;;;524     Lcd_DspAscII6x8(5,125,BLACK,"3.2");
000b08  e28f3f6b          ADR      r3,|L1.3260|
000b0c  e3a02000          MOV      r2,#0
000b10  e3a0107d          MOV      r1,#0x7d
000b14  e3a00005          MOV      r0,#5
000b18  ebfffffe          BL       Lcd_DspAscII6x8
;;;525     Lcd_DspAscII6x8(5,145,BLACK,"3.0");
000b1c  e28f3f67          ADR      r3,|L1.3264|
000b20  e3a02000          MOV      r2,#0
000b24  e3a01091          MOV      r1,#0x91
000b28  e3a00005          MOV      r0,#5
000b2c  ebfffffe          BL       Lcd_DspAscII6x8
;;;526     Lcd_DspAscII6x8(5,165,BLACK,"2.8");
000b30  e28f3f63          ADR      r3,|L1.3268|
000b34  e3a02000          MOV      r2,#0
000b38  e3a010a5          MOV      r1,#0xa5
000b3c  e3a00005          MOV      r0,#5
000b40  ebfffffe          BL       Lcd_DspAscII6x8
;;;527     Lcd_DspAscII6x8(5,185,BLACK,"2.6");
000b44  e28f3f5f          ADR      r3,|L1.3272|
000b48  e3a02000          MOV      r2,#0
000b4c  e3a010b9          MOV      r1,#0xb9
000b50  e3a00005          MOV      r0,#5
000b54  ebfffffe          BL       Lcd_DspAscII6x8
;;;528     Lcd_DspAscII6x8(5,205,BLACK,"2.4");
000b58  e28f3f5b          ADR      r3,|L1.3276|
000b5c  e3a02000          MOV      r2,#0
000b60  e3a010cd          MOV      r1,#0xcd
000b64  e3a00005          MOV      r0,#5
000b68  ebfffffe          BL       Lcd_DspAscII6x8
;;;529     Lcd_DspAscII6x8(5,225,BLACK,"2.2");
000b6c  e28f3f57          ADR      r3,|L1.3280|
000b70  e3a02000          MOV      r2,#0
000b74  e3a010e1          MOV      r1,#0xe1
000b78  e3a00005          MOV      r0,#5
000b7c  ebfffffe          BL       Lcd_DspAscII6x8
;;;530     Lcd_DspAscII6x8(5,245,BLACK,"2.0");
000b80  e28f3f53          ADR      r3,|L1.3284|
000b84  e3a02000          MOV      r2,#0
000b88  e3a010f5          MOV      r1,#0xf5
000b8c  e3a00005          MOV      r0,#5
000b90  ebfffffe          BL       Lcd_DspAscII6x8
;;;531     Lcd_DspAscII6x8(5,265,BLACK,"1.8");
000b94  e59f1140          LDR      r1,|L1.3292|
000b98  e28f3f4e          ADR      r3,|L1.3288|
000b9c  e3a02000          MOV      r2,#0
000ba0  e3a00005          MOV      r0,#5
000ba4  ebfffffe          BL       Lcd_DspAscII6x8
;;;532     Lcd_DspAscII6x8(5,285,BLACK,"1.6");
000ba8  e59f1134          LDR      r1,|L1.3300|
000bac  e28f3f4b          ADR      r3,|L1.3296|
000bb0  e3a02000          MOV      r2,#0
000bb4  e3a00005          MOV      r0,#5
000bb8  ebfffffe          BL       Lcd_DspAscII6x8
;;;533     Lcd_DspAscII6x8(5,305,BLACK,"1.4");
000bbc  e59f1128          LDR      r1,|L1.3308|
000bc0  e28f3e12          ADR      r3,|L1.3304|
000bc4  e3a02000          MOV      r2,#0
000bc8  e3a00005          MOV      r0,#5
000bcc  ebfffffe          BL       Lcd_DspAscII6x8
;;;534     Lcd_DspAscII6x8(5,325,BLACK,"1.2");
000bd0  e59f111c          LDR      r1,|L1.3316|
000bd4  e28f3f45          ADR      r3,|L1.3312|
000bd8  e3a02000          MOV      r2,#0
000bdc  e3a00005          MOV      r0,#5
000be0  ebfffffe          BL       Lcd_DspAscII6x8
;;;535     Lcd_DspAscII6x8(5,345,BLACK,"1.0");
000be4  e59f1110          LDR      r1,|L1.3324|
000be8  e28f3f42          ADR      r3,|L1.3320|
000bec  e3a02000          MOV      r2,#0
000bf0  e3a00005          MOV      r0,#5
000bf4  ebfffffe          BL       Lcd_DspAscII6x8
;;;536     Lcd_DspAscII6x8(5,365,BLACK,"0.8");
000bf8  e59f1104          LDR      r1,|L1.3332|
000bfc  e28f30fc          ADR      r3,|L1.3328|
000c00  e3a02000          MOV      r2,#0
000c04  e3a00005          MOV      r0,#5
000c08  ebfffffe          BL       Lcd_DspAscII6x8
;;;537     Lcd_DspAscII6x8(5,385,BLACK,"0.6");
000c0c  e59f10f8          LDR      r1,|L1.3340|
000c10  e28f30f0          ADR      r3,|L1.3336|
000c14  e3a02000          MOV      r2,#0
000c18  e3a00005          MOV      r0,#5
000c1c  ebfffffe          BL       Lcd_DspAscII6x8
;;;538     Lcd_DspAscII6x8(5,405,BLACK,"0.4");
000c20  e59f10ec          LDR      r1,|L1.3348|
000c24  e28f30e4          ADR      r3,|L1.3344|
000c28  e3a02000          MOV      r2,#0
000c2c  e3a00005          MOV      r0,#5
000c30  ebfffffe          BL       Lcd_DspAscII6x8
;;;539     Lcd_DspAscII6x8(5,425,BLACK,"0.2");
000c34  e59f10e0          LDR      r1,|L1.3356|
000c38  e28f30d8          ADR      r3,|L1.3352|
000c3c  e3a02000          MOV      r2,#0
000c40  e3a00005          MOV      r0,#5
000c44  ebfffffe          BL       Lcd_DspAscII6x8
;;;540     Lcd_DspAscII6x8(5,445,BLACK,"0");
000c48  e28dd008          ADD      sp,sp,#8
000c4c  e8bd41f0          POP      {r4-r8,lr}
000c50  e59f10cc          LDR      r1,|L1.3364|
000c54  e28f30c4          ADR      r3,|L1.3360|
000c58  e3a02000          MOV      r2,#0
000c5c  e3a00005          MOV      r0,#5
000c60  eafffffe          B        Lcd_DspAscII6x8
                  |L1.3172|
                          DCD      g_ucAscii8x16
                  |L1.3176|
                          DCD      frameBuffer16BitTft800480
                  |L1.3180|
                          DCD      0x000002b6
                  |L1.3184|
                          DCD      0x0000ffff
                  |L1.3188|
                          DCD      0x000001c2
                  |L1.3192|
000c78  32303130          DCB      "20101111",0
000c7c  31313131
000c80  00      
000c81  00                DCB      0
000c82  00                DCB      0
000c83  00                DCB      0
                  |L1.3204|
000c84  d5c5d7d3          DCB      213,197,215,211,193,216,0
000c88  c1d800  
000c8b  00                DCB      0
                  |L1.3212|
000c8c  32303130          DCB      "20101113",0
000c90  31313133
000c94  00      
000c95  00                DCB      0
000c96  00                DCB      0
000c97  00                DCB      0
                  |L1.3224|
000c98  c0eeb0ba          DCB      192,238,176,186,0
000c9c  00      
000c9d  00                DCB      0
000c9e  00                DCB      0
000c9f  00                DCB      0
                  |L1.3232|
000ca0  baceccce          DCB      186,206,204,206,0
000ca4  00      
000ca5  00                DCB      0
000ca6  00                DCB      0
000ca7  00                DCB      0
                  |L1.3240|
                          DCD      0x000001c7
                  |L1.3244|
000cac  b5e7d1b9          DCB      181,231,209,185,0
000cb0  00      
000cb1  00                DCB      0
000cb2  00                DCB      0
000cb3  00                DCB      0
                  |L1.3252|
000cb4  28562900          DCB      "(V)",0
                  |L1.3256|
000cb8  332e3400          DCB      "3.4",0
                  |L1.3260|
000cbc  332e3200          DCB      "3.2",0
                  |L1.3264|
000cc0  332e3000          DCB      "3.0",0
                  |L1.3268|
000cc4  322e3800          DCB      "2.8",0
                  |L1.3272|
000cc8  322e3600          DCB      "2.6",0
                  |L1.3276|
000ccc  322e3400          DCB      "2.4",0
                  |L1.3280|
000cd0  322e3200          DCB      "2.2",0
                  |L1.3284|
000cd4  322e3000          DCB      "2.0",0
                  |L1.3288|
000cd8  312e3800          DCB      "1.8",0
                  |L1.3292|
                          DCD      0x00000109
                  |L1.3296|
000ce0  312e3600          DCB      "1.6",0
                  |L1.3300|
                          DCD      0x0000011d
                  |L1.3304|
000ce8  312e3400          DCB      "1.4",0
                  |L1.3308|
                          DCD      0x00000131
                  |L1.3312|
000cf0  312e3200          DCB      "1.2",0
                  |L1.3316|
                          DCD      0x00000145
                  |L1.3320|
000cf8  312e3000          DCB      "1.0",0
                  |L1.3324|
                          DCD      0x00000159
                  |L1.3328|
000d00  302e3800          DCB      "0.8",0
                  |L1.3332|
                          DCD      0x0000016d
                  |L1.3336|
000d08  302e3600          DCB      "0.6",0
                  |L1.3340|
                          DCD      0x00000181
                  |L1.3344|
000d10  302e3400          DCB      "0.4",0
                  |L1.3348|
                          DCD      0x00000195
                  |L1.3352|
000d18  302e3200          DCB      "0.2",0
                  |L1.3356|
                          DCD      0x000001a9
                  |L1.3360|
000d20  3000              DCB      "0",0
000d22  00                DCB      0
000d23  00                DCB      0
                  |L1.3364|
                          DCD      0x000001bd
                          ENDP

                  color_lcd_test PROC
;;;546    
;;;547    void color_lcd_test(void)
000d28  e92d4ff0          PUSH     {r4-r11,lr}
;;;548    {
000d2c  e24dd044          SUB      sp,sp,#0x44
;;;549     int i,j;
;;;550     double x=40,y=0;
;;;551     double x1,y1;
;;;552     char a[6]={0};
000d30  e3a01000          MOV      r1,#0
;;;553     unsigned char*b=(unsigned char*)a;
000d34  e28d0034          ADD      r0,sp,#0x34
000d38  e58d003c          STR      r0,[sp,#0x3c]         ;552
;;;554     UINT16T usConData;
;;;555     float usEndData;
;;;556    
;;;557    #ifndef BOARDTEST 
;;;558    //Lcd_DspHz24(50,10,BLUE,"英蓓特三星实验平台");
;;;559    #endif
;;;560     uart_printf("\n ADC_IN Test\n");
000d3c  e28f0fc3          ADR      r0,|L1.4176|
000d40  e58d1034          STR      r1,[sp,#0x34]         ;552
000d44  e58d1038          STR      r1,[sp,#0x38]
000d48  ebfffffe          BL       uart_printf
;;;561     uart_printf("ADC conv.freq.=%dHz\n",ADC_FREQ);
000d4c  e59f130c          LDR      r1,|L1.4192|
000d50  e28f0fc3          ADR      r0,|L1.4196|
000d54  ebfffffe          BL       uart_printf
;;;562     unPreScaler = PCLK/ADC_FREQ - 1;
000d58  e59f431c          LDR      r4,|L1.4220|
;;;563     rADCCON=(1<<14)|(unPreScaler<<6)|(0<<3)|(0<<2)|(1<<1);
000d5c  e59f031c          LDR      r0,|L1.4224|
000d60  e3a01013          MOV      r1,#0x13              ;562
000d64  e3a06316          MOV      r6,#0x58000000
000d68  e1c410b0          STRH     r1,[r4,#0]            ;562  ; unPreScaler
000d6c  e1d410b0          LDRH     r1,[r4,#0]  ; unPreScaler
000d70  e1800301          ORR      r0,r0,r1,LSL #6
000d74  e5860000          STR      r0,[r6,#0]
;;;564     uart_printf("Please adjust AINO value!\n");
000d78  e28f0fc1          ADR      r0,|L1.4228|
000d7c  ebfffffe          BL       uart_printf
;;;565     uart_printf("The results of ADC are:\n");
000d80  e28f0fc6          ADR      r0,|L1.4256|
000d84  ebfffffe          BL       uart_printf
;;;566     usConData=rADCDAT0&0x3FF;
000d88  e596000c          LDR      r0,[r6,#0xc]
;;;567     lcd_init_app();
000d8c  ebfffffe          BL       lcd_init_app
;;;568     led_init();
000d90  ebfffffe          BL       led_init
;;;569     show();
000d94  ebfffffe          BL       show
;;;570     Glib_FilledRectangle(150,70,300,80,WHITE);
000d98  e51f0130          LDR      r0,|L1.3184|
000d9c  e3a03050          MOV      r3,#0x50
000da0  e58d0000          STR      r0,[sp,#0]
000da4  e3a02f4b          MOV      r2,#0x12c
000da8  e3a01046          MOV      r1,#0x46
000dac  e3a00096          MOV      r0,#0x96
000db0  ebfffffe          BL       Glib_FilledRectangle
;;;571    
;;;572    
;;;573    		x1=40,y1=450;
;;;574    
;;;575     //初始化绘制缓冲区
;;;576     for(i=0;i<BUFFER_LENGTH;i++){
;;;577    	 while(!(rADCCON & 0x8000));
;;;578    	 usConData = rADCDAT0 & 0x3FF;
;;;579    	 vBuffer[i] = usConData * 3.3000/0x3FF;
000db4  e59f8300          LDR      r8,|L1.4284|
000db8  e3a05000          MOV      r5,#0                 ;576
;;;580    	 drawBuffer[i] = vBuffer[i];
000dbc  e2887e37          ADD      r7,r8,#0x370
                  |L1.3520|
000dc0  e5960000          LDR      r0,[r6,#0]            ;577
000dc4  e3100902          TST      r0,#0x8000            ;577
000dc8  0afffffc          BEQ      |L1.3520|
000dcc  e596000c          LDR      r0,[r6,#0xc]          ;578
000dd0  e1a00b00          LSL      r0,r0,#22             ;578
000dd4  e1a00b20          LSR      r0,r0,#22             ;578
000dd8  ebfffffe          BL       __aeabi_ui2d
000ddc  e59f22dc          LDR      r2,|L1.4288|
000de0  e59f32dc          LDR      r3,|L1.4292|
000de4  ebfffffe          BL       __aeabi_dmul
000de8  e59f32d8          LDR      r3,|L1.4296|
000dec  e3a02000          MOV      r2,#0                 ;579
000df0  ebfffffe          BL       __aeabi_ddiv
000df4  e088c185          ADD      r12,r8,r5,LSL #3      ;579
000df8  e88c0003          STM      r12,{r0,r1}           ;579
000dfc  e0873185          ADD      r3,r7,r5,LSL #3
000e00  e8830003          STM      r3,{r0,r1}            ;579
;;;581    	 x = x+6;
;;;582    	 y = 450 - drawBuffer[i]*100; 
;;;583    	 //Lcd_Draw_Line(x1,y1,x,y,DARKGRAY,2);
;;;584    	 y1=y;
;;;585    	 x1 = x;
;;;586    	 
;;;587    	 delay(500);
000e04  e3a00f7d          MOV      r0,#0x1f4
000e08  ebfffffe          BL       delay
000e0c  e2855001          ADD      r5,r5,#1
000e10  e355006e          CMP      r5,#0x6e              ;576
000e14  baffffe9          BLT      |L1.3520|
;;;588    	 
;;;589     }
;;;590      
;;;591      lastY = 450 - drawBuffer[0]*100;
000e18  e59f12ac          LDR      r1,|L1.4300|
000e1c  e59f32ac          LDR      r3,|L1.4304|
000e20  e8910003          LDM      r1,{r0,r1}
000e24  e3a02000          MOV      r2,#0
000e28  ebfffffe          BL       __aeabi_dmul
000e2c  e59f32a0          LDR      r3,|L1.4308|
000e30  e3a02000          MOV      r2,#0
000e34  ebfffffe          BL       __aeabi_drsub
000e38  e5840008          STR      r0,[r4,#8]  ; lastY, lastY
;;;592    	for(j = 0;j<100;j++){
000e3c  e3a0b000          MOV      r11,#0
000e40  e584100c          STR      r1,[r4,#0xc]          ;591
                  |L1.3652|
;;;593    		while(!(rADCCON & 0x8000));
000e44  e3a00316          MOV      r0,#0x58000000
000e48  e5901000          LDR      r1,[r0,#0]
000e4c  e3110902          TST      r1,#0x8000
000e50  0afffffb          BEQ      |L1.3652|
;;;594    		usConData = rADCDAT0 & 0x3FF;
000e54  e590000c          LDR      r0,[r0,#0xc]
000e58  e1a00b00          LSL      r0,r0,#22
000e5c  e1a00b20          LSR      r0,r0,#22
;;;595    		usEndData = usConData * 3.3000/0x3FF;
000e60  ebfffffe          BL       __aeabi_ui2d
000e64  e59f2254          LDR      r2,|L1.4288|
000e68  e59f3254          LDR      r3,|L1.4292|
000e6c  ebfffffe          BL       __aeabi_dmul
000e70  e59f3250          LDR      r3,|L1.4296|
000e74  e3a02000          MOV      r2,#0
000e78  ebfffffe          BL       __aeabi_ddiv
000e7c  ebfffffe          BL       __aeabi_d2f
;;;596    		//将电压值添加到最新数据的缓冲区
;;;597    		vBuffer[bufferIndex] = usEndData;
000e80  ebfffffe          BL       __aeabi_f2d
000e84  e58d0008          STR      r0,[sp,#8]
000e88  e58d100c          STR      r1,[sp,#0xc]
000e8c  e5942004          LDR      r2,[r4,#4]  ; bufferIndex
000e90  e0883182          ADD      r3,r8,r2,LSL #3
000e94  e8830003          STM      r3,{r0,r1}
;;;598    		//移动缓冲区，循环使用
;;;599    		bufferIndex = (bufferIndex + 1)%BUFFER_LENGTH;
000e98  e3a0106e          MOV      r1,#0x6e
000e9c  e2820001          ADD      r0,r2,#1
000ea0  ebfffffe          BL       __aeabi_idivmod
000ea4  e59f722c          LDR      r7,|L1.4312|
000ea8  e3a05000          MOV      r5,#0
;;;600    		 
;;;601    		 x = 700 - BUFFER_LENGTH*6;
;;;602    		 for (i=0;i<BUFFER_LENGTH;i ++){
000eac  e1a06005          MOV      r6,r5
000eb0  e5841004          STR      r1,[r4,#4]  ; bufferIndex
                  |L1.3764|
;;;603    			 drawBuffer[i] = vBuffer[(bufferIndex + i )%BUFFER_LENGTH];
000eb4  e5940004          LDR      r0,[r4,#4]  ; bufferIndex
000eb8  e3a0106e          MOV      r1,#0x6e
000ebc  e0800006          ADD      r0,r0,r6
000ec0  ebfffffe          BL       __aeabi_idivmod
000ec4  e59f2200          LDR      r2,|L1.4300|
000ec8  e0881181          ADD      r1,r8,r1,LSL #3
000ecc  e8910003          LDM      r1,{r0,r1}
000ed0  e0822186          ADD      r2,r2,r6,LSL #3
000ed4  e8820003          STM      r2,{r0,r1}
;;;604    			 y = 450 - drawBuffer[i]*100;
000ed8  e59f31f0          LDR      r3,|L1.4304|
000edc  e3a02000          MOV      r2,#0
000ee0  ebfffffe          BL       __aeabi_dmul
000ee4  e59f31e8          LDR      r3,|L1.4308|
000ee8  e3a02000          MOV      r2,#0
000eec  ebfffffe          BL       __aeabi_drsub
000ef0  e1a09000          MOV      r9,r0
000ef4  e1a0a001          MOV      r10,r1
;;;605    			 x += 6;
000ef8  e59f31dc          LDR      r3,|L1.4316|
000efc  e3a02000          MOV      r2,#0
000f00  e1a00005          MOV      r0,r5
000f04  e1a01007          MOV      r1,r7
000f08  ebfffffe          BL       __aeabi_dadd
;;;606    			 if(i>0){
000f0c  e3560000          CMP      r6,#0
000f10  e1a05000          MOV      r5,r0                 ;605
000f14  e1a07001          MOV      r7,r1                 ;605
000f18  da00001f          BLE      |L1.3996|
;;;607    				 Lcd_Draw_Line(lastX,lastY,x,y,DARKGRAY,2);
000f1c  e1a00009          MOV      r0,r9
000f20  e1a0100a          MOV      r1,r10
000f24  ebfffffe          BL       __aeabi_d2iz
000f28  e1a02000          MOV      r2,r0
000f2c  e1a02802          LSL      r2,r2,#16
000f30  e1a02842          ASR      r2,r2,#16
000f34  e1a00005          MOV      r0,r5
000f38  e1a01007          MOV      r1,r7
000f3c  e58d202c          STR      r2,[sp,#0x2c]
000f40  ebfffffe          BL       __aeabi_d2iz
000f44  e1a00800          LSL      r0,r0,#16
000f48  e594100c          LDR      r1,[r4,#0xc]  ; lastY, lastY
000f4c  e5942008          LDR      r2,[r4,#8]
000f50  e1a00840          ASR      r0,r0,#16
000f54  e58d0028          STR      r0,[sp,#0x28]
000f58  e1a00002          MOV      r0,r2
000f5c  ebfffffe          BL       __aeabi_d2iz
000f60  e1a00800          LSL      r0,r0,#16
000f64  e5941014          LDR      r1,[r4,#0x14]  ; lastX, lastX
000f68  e5942010          LDR      r2,[r4,#0x10]
000f6c  e1a00840          ASR      r0,r0,#16
000f70  e58d0024          STR      r0,[sp,#0x24]
000f74  e1a00002          MOV      r0,r2
000f78  ebfffffe          BL       __aeabi_d2iz
000f7c  e3a01050          MOV      r1,#0x50
000f80  e3a02002          MOV      r2,#2
000f84  e88d0006          STM      sp,{r1,r2}
000f88  e28dc024          ADD      r12,sp,#0x24
000f8c  e89c000e          LDM      r12,{r1-r3}
000f90  e1a00800          LSL      r0,r0,#16
000f94  e1a00840          ASR      r0,r0,#16
000f98  ebfffffe          BL       Lcd_Draw_Line
                  |L1.3996|
;;;608    		 }
;;;609    			 lastX = x;
;;;610    		 lastY = y;
000f9c  e5845010          STR      r5,[r4,#0x10]  ; lastX, lastX, lastY, lastY
000fa0  e5847014          STR      r7,[r4,#0x14]
000fa4  e2866001          ADD      r6,r6,#1              ;607
000fa8  e5849008          STR      r9,[r4,#8]
000fac  e356006e          CMP      r6,#0x6e              ;602
000fb0  e584a00c          STR      r10,[r4,#0xc]
000fb4  baffffbe          BLT      |L1.3764|
;;;611    	 }
;;;612    		 
;;;613    		//清空显示区域
;;;614    		//lcd_clr_rect(40,110,115,45,WHITE);
;;;615    		scrollScreen();
000fb8  ebfffffe          BL       scrollScreen
;;;616    			 
;;;617    			 
;;;618    		//绘制缓冲区图线
;;;619    
;;;620    		
;;;621    		sprintf(a,"%0.3f",usEndData);
000fbc  e59d2008          LDR      r2,[sp,#8]
000fc0  e59d300c          LDR      r3,[sp,#0xc]
000fc4  e28f1f45          ADR      r1,|L1.4320|
000fc8  e28d0034          ADD      r0,sp,#0x34
000fcc  ebfffffe          BL       __2sprintf
;;;622    		a[5] = 'v';
;;;623    		Glib_FilledRectangle(150,70,300,100,WHITE);
000fd0  e51f0368          LDR      r0,|L1.3184|
000fd4  e3a01076          MOV      r1,#0x76              ;622
000fd8  e5cd1039          STRB     r1,[sp,#0x39]         ;622
000fdc  e58d0000          STR      r0,[sp,#0]
000fe0  e3a03064          MOV      r3,#0x64
000fe4  e3a02f4b          MOV      r2,#0x12c
000fe8  e3a01046          MOV      r1,#0x46
000fec  e3a00096          MOV      r0,#0x96
000ff0  ebfffffe          BL       Glib_FilledRectangle
;;;624    		Lcd_DspAscII8x16(150,73,RED,b);
000ff4  e59d303c          LDR      r3,[sp,#0x3c]
000ff8  e3a02b3e          MOV      r2,#0xf800
000ffc  e3a01049          MOV      r1,#0x49
001000  e3a00096          MOV      r0,#0x96
001004  ebfffffe          BL       Lcd_DspAscII8x16
;;;625    		char_out(0,(u8*)a);
001008  e28d1034          ADD      r1,sp,#0x34
00100c  e3a00000          MOV      r0,#0
001010  ebfffffe          BL       char_out
001014  e28bb001          ADD      r11,r11,#1
001018  e35b0064          CMP      r11,#0x64             ;592
00101c  baffff88          BLT      |L1.3652|
;;;626    		
;;;627    	
;;;628    	}
;;;629    	
;;;630    	uart_printf("End.\n");
001020  e28f00c0          ADR      r0,|L1.4328|
001024  ebfffffe          BL       uart_printf
;;;631    	lcd_clr_rect(42,110,705,450,WHITE);
001028  e51f03c0          LDR      r0,|L1.3184|
00102c  e51f33c0          LDR      r3,|L1.3188|
001030  e58d0000          STR      r0,[sp,#0]
001034  e0832440          ADD      r2,r3,r0,ASR #8
001038  e3a0106e          MOV      r1,#0x6e
00103c  e3a0002a          MOV      r0,#0x2a
001040  ebfffffe          BL       lcd_clr_rect
;;;632    }		
001044  e28dd044          ADD      sp,sp,#0x44
001048  e8bd4ff0          POP      {r4-r11,lr}
00104c  e12fff1e          BX       lr
                  |L1.4176|
001050  0a204144          DCB      "\n ADC_IN Test\n",0
001054  435f494e
001058  20546573
00105c  740a00  
00105f  00                DCB      0
                  |L1.4192|
                          DCD      0x002625a0
                  |L1.4196|
001064  41444320          DCB      "ADC conv.freq.=%dHz\n",0
001068  636f6e76
00106c  2e667265
001070  712e3d25
001074  64487a0a
001078  00      
001079  00                DCB      0
00107a  00                DCB      0
00107b  00                DCB      0
                  |L1.4220|
                          DCD      ||.data||
                  |L1.4224|
                          DCD      0x00004002
                  |L1.4228|
001084  506c6561          DCB      "Please adjust AINO value!\n",0
001088  73652061
00108c  646a7573
001090  74204149
001094  4e4f2076
001098  616c7565
00109c  210a00  
00109f  00                DCB      0
                  |L1.4256|
0010a0  54686520          DCB      "The results of ADC are:\n",0
0010a4  72657375
0010a8  6c747320
0010ac  6f662041
0010b0  44432061
0010b4  72653a0a
0010b8  00      
0010b9  00                DCB      0
0010ba  00                DCB      0
0010bb  00                DCB      0
                  |L1.4284|
                          DCD      ||.bss||
                  |L1.4288|
                          DCD      0x66666666
                  |L1.4292|
                          DCD      0x400a6666
                  |L1.4296|
                          DCD      0x408ff800
                  |L1.4300|
                          DCD      ||.bss||+0x370
                  |L1.4304|
                          DCD      0x40590000
                  |L1.4308|
                          DCD      0x407c2000
                  |L1.4312|
                          DCD      0x40440000
                  |L1.4316|
                          DCD      0x40180000
                  |L1.4320|
0010e0  25302e33          DCB      "%0.3f",0
0010e4  6600    
0010e6  00                DCB      0
0010e7  00                DCB      0
                  |L1.4328|
0010e8  456e642e          DCB      "End.\n",0
0010ec  0a00    
0010ee  00                DCB      0
0010ef  00                DCB      0
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=3

                  vBuffer
                          %        880
                  drawBuffer
                          %        880

                          AREA ||.data||, DATA, ALIGN=3

                  unPreScaler
000000  00000000          DCB      0x00,0x00,0x00,0x00
                  bufferIndex
                          DCD      0x00000000
                  lastY
000008  00000000          DCFD     0x0000000000000000 ; 0
00000c  00000000
                  lastX
000010  00000000          DCFD     0x4044000000000000 ; 40
000014  40440000
